---
title: "ã€GitHubActionsã€‘ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚’åˆ©ç”¨ã—ã¦Scriptã‚’å®Ÿè¡Œã™ã‚‹"
emoji: "ğŸ’¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [GitHubActions, CI/CD]
published: true
---


### æ¦‚è¦

ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã€å†—é•·æ€§ã®ã‚ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã™ã£ãã‚Šã•ã›ã¾ã—ãŸã€‚

### å…ƒã®ã‚³ãƒ¼ãƒ‰

```yaml
name: Sequential Workflow

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  validation:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.7

      - name: Set up validation script permissions
        run: chmod +x .github/scripts/validation.sh

      - name: Run validation script
        run: ./.github/scripts/validation.sh

  setup:
    runs-on: ubuntu-latest
    needs: validation
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.7

      - name: Set up setup script permissions
        run: chmod +x .github/scripts/set-up.sh

      - name: Run setup script
        run: ./.github/scripts/set-up.sh

  deploy:
    runs-on: ubuntu-latest
    needs: setup
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.7

      - name: Set up deploy script permissions
        run: chmod +x .github/scripts/deploy.sh

      - name: Run deploy script
        run: ./.github/scripts/deploy.sh

```

### matrixã‚’åˆ©ç”¨ã—ãŸã‚³ãƒ¼ãƒ‰

```yaml
name: Matrix Workflow

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  example_matrix:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        script: [validation, set-up, deploy]
    steps:
      - name: Checkout code
        uses: actions/checkout@v4.1.7

      - name: Set up script permissions
        run: chmod +x .github/scripts/${{ matrix.script }}.sh

      - name: Run script
        run: ./.github/scripts/${{ matrix.script }}.sh
```

### ã¾ã¨ã‚

```yaml
    strategy:
      matrix:
        script: [validation, set-up, deploy]
```

ä¸Šè¨˜ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒªã‚¹ãƒˆã«ã‚ã‚‹ `validation`, `set-up`, `deploy`ã‚’
ä¸‹è¨˜ã® `${{ matrix.script }}` ã«é †ç•ªã«ä»£å…¥ã—ã€å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚

```yaml
    - name: Set up script permissions
        run: chmod +x .github/scripts/${{ matrix.script }}.sh
```

ã“ã‚Œã§å†—é•·æ€§ã®ã‚ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’çŸ­ãã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚